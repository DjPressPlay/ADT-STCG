/* =========================
   ZETSU — ADT BOARD (REWRITE)
   ========================= */

/* ---------- Root Vars ---------- */
:root{
  /* Slot size (desktop) */
  --slot-w: 80px;
  --slot-h: 120px;

  /* Slot size (mobile) */
  --slot-w-sm: 60px;
  --slot-h-sm: 90px;

  /* Summon base size (match summon_btn markup) */
  --summon-w: 460px;
  --summon-h: 620px;

  /* Frame fallback */
  --frame-color: #888;
}

/* ---------- Page & Board ---------- */
html, body {
  margin: 0; padding: 0;
  width: 100vw; height: 100vh;
  overflow: hidden; background: #111;
}

.board-container {
  width: 100vw; height: 100vh;
  display: flex; flex-direction: column;
  border: 8px solid #222; border-radius: 18px;
  box-shadow: inset 0 0 0 6px #0ff;
}

.map-section {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 12px; border-top: 3px solid #000;
}
.map-section:first-child { border-top: none; }

.cpu-section {
  background: url("https://miro.medium.com/v2/resize:fit:1100/format:webp/1*rd76wCu4QjZcQWV9wraB_g.png") center/cover no-repeat;
}
.shared-section {
  background: url("https://tools.toywiz.com/_images/_webp/_products/lg/legacyvaliantplaymat.webp") center/cover no-repeat;
}
.player-section {
  background: url("https://miro.medium.com/v2/resize:fit:1100/format:webp/0*gtZUOQrS_bCJXFtO") center/cover no-repeat;
}

/* ---------- Zones & Slots ---------- */
.zone {
  display: flex; justify-content: center; gap: 12px;
}

.slot {
  position: relative;
  width: var(--slot-w);
  height: var(--slot-h);
  border: 2px solid #666;
  border-radius: 6px;
  background: #222;
  overflow: hidden;
  transition: transform .3s ease, box-shadow .3s ease;
}

/* Fan the hand a bit */
.cpu-hand .slot:nth-child(1) { transform: rotate(-8deg); }
.cpu-hand .slot:nth-child(2) { transform: rotate(-4deg); }
.cpu-hand .slot:nth-child(3) { transform: rotate(0deg); }
.cpu-hand .slot:nth-child(4) { transform: rotate(4deg); }
.cpu-hand .slot:nth-child(5) { transform: rotate(8deg); }

.player-hand .slot:nth-child(1) { transform: rotate(-8deg); }
.player-hand .slot:nth-child(2) { transform: rotate(-4deg); }
.player-hand .slot:nth-child(3) { transform: rotate(0deg); }
.player-hand .slot:nth-child(4) { transform: rotate(4deg); }
.player-hand .slot:nth-child(5) { transform: rotate(8deg); }

.cpu-hand .slot:hover,
.player-hand .slot:hover {
  transform: scale(1.1) rotate(0deg);
  box-shadow: 0 0 25px rgba(0,255,255,0.7), 0 0 40px rgba(255,0,255,0.6);
  z-index: 10;
}

/* Mobile slot sizing */
@media (max-width: 768px) {
  .slot {
    width: var(--slot-w-sm);
    height: var(--slot-h-sm);
  }
}

/* ---------- Counters & HUD ---------- */
.battle-counter {
  width: 60px; height: 60px; border-radius: 50%;
  background: radial-gradient(circle, #0ff 30%, #111 100%);
  color: #fff; font-size: 2rem; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
  margin: 12px auto;
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  text-shadow: 0 0 10px #000;
}

.hud {
  position: fixed; display: flex; flex-direction: column; align-items: center; z-index: 9999;
}
.cpu-hud { top: 20px; right: 20px; }
.player-hud { bottom: 20px; left: 20px; }

.hud-pic img {
  width: 100px; height: 100px; border-radius: 50%;
  border: 3px solid #0ff; object-fit: cover; background: #000;
}
.hud-name {
  margin-top: 6px; color: #0ff; font-weight: 700; font-size: 1.1rem; text-shadow: 0 0 4px #000;
}
.hud-health {
  width: 100px; height: 12px; background: #111;
  border: 2px solid #444; border-radius: 6px; margin-top: 6px; overflow: hidden;
}
.hud-health-fill {
  height: 100%; background: linear-gradient(to right, #0f0, #090); transition: width .3s ease;
}

/* Floating deck/grave */
.deck, .grave {
  position: fixed; width: 80px; height: 110px; border-radius: 8px; z-index: 9999;
}
.deck {
  background: #222; border: 3px solid #888; box-shadow: 0 0 10px rgba(0,255,255,0.3);
}
.cpu-deck { top: 20px; left: 20px; }
.player-deck { bottom: 20px; right: 20px; }

.grave {
  background: #333; border: 3px solid #990000; box-shadow: 0 0 12px rgba(255,0,0,0.5);
}
.grave-cpu { left: 20px; top: 50%; transform: translateY(-50%); }
.grave-player { right: 20px; top: 50%; transform: translateY(-50%); }

/* Message */
.message-box {
  position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
  min-width: 300px; max-width: 80vw; padding: 20px 30px;
  background: rgba(0, 0, 0, 0.85); color: #fff;
  font-size: 2.2rem; font-style: italic; font-weight: 700; text-align: center;
  border: 2px solid #0ff; border-radius: 10px; box-shadow: 0 0 20px rgba(0,255,255,0.4);
  z-index: 99999; display: none; text-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
}

/* Card info bubbles */
.card-info {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 160px; min-height: 60px; padding: 10px;
  background: rgba(0, 0, 0, 0.85); color: #fff;
  font-size: 0.9rem; font-style: italic; font-weight: 700; text-align: center;
  border: 2px solid #0ff; border-radius: 6px; box-shadow: 0 0 10px rgba(0,255,255,0.3);
  z-index: 9999;
}
.info-left  { right: 130px; }
.info-right { left: 130px; }

/* =========================
   MINI SUMMONER IN SLOTS
   ========================= */

/* Render full summon size and scale to slot using CSS math */
.mini-card {
  position: absolute; top: 0; left: 0;
  width: var(--summon-w);
  height: var(--summon-h);
  /* scale = slot width / summon width (unitless) */
  transform: scale(calc(var(--slot-w) / var(--summon-w)));
  transform-origin: top left;
  pointer-events: none; /* slot handles hover/click */
}

/* Mobile scale (slot-sm / summon-w) */
@media (max-width: 768px) {
  .mini-card {
    transform: scale(calc(var(--slot-w-sm) / var(--summon-w)));
  }
}

/* Make inner frame fill the mini-card space */
.mini-card .frameType,
.mini-card .frameType-inner { width: 100%; height: 100%; }

/* =========================
   Tiny Flip Card (optional)
   ========================= */
.stcg-card { width: 110px; height: 160px; perspective: 1000px; position: relative; }
.stcg-card__inner { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform .5s; }
.stcg-card.flipped .stcg-card__inner { transform: rotateY(180deg); }
.stcg-card__front, .stcg-card__back { position:absolute; inset:0; backface-visibility:hidden; border-radius:10px; overflow:hidden; }
.stcg-card__back { transform: rotateY(180deg); background: #111 radial-gradient(circle at 30% 30%, #333, #000); }
.stcg-card__border { position: absolute; inset: 0; border: 3px solid var(--frame-color); border-radius: 10px; box-shadow: 0 0 8px var(--frame-color); }
.stcg-card__name { font-weight: 700; font-size: 12px; padding: 6px 8px; background: rgba(0,0,0,.5); }
.stcg-card__image { height: 60%; background: #222 center/cover no-repeat; }
.stcg-card__stats { display:flex; justify-content:space-between; padding: 4px 6px; font-size: 11px; }
.stcg-card__effects { padding: 4px 6px; font-size: 10px; line-height: 1.25; max-height: 40px; overflow:auto; }
.stcg-card__footer { display:flex; justify-content:space-between; padding: 4px 6px; font-size: 10px; }

/* =========================
   FrameType → Color Map
   (match summon_btn)
   ========================= */
[data-frame="breaking_news"]      { --frame-color:#ff2b2b; }
[data-frame="politics"]           { --frame-color:#800000; }
[data-frame="national_news"]      { --frame-color:#001f5c; }
[data-frame="international_news"] { --frame-color:#0057e7; }
[data-frame="local_news"]         { --frame-color:#66ccff; }
[data-frame="economy"]            { --frame-color:#008080; }
[data-frame="business"]           { --frame-color:#ffd700; }
[data-frame="sales"]              { --frame-color:#00ffff; }
[data-frame="merch"]              { --frame-color:#ff00ff; }
[data-frame="technology"]         { --frame-color:#c0c0c0; }
[data-frame="science"]            { --frame-color:#0074d9; }
[data-frame="health"]             { --frame-color:#ff4500; }
[data-frame="education"]          { --frame-color:#87cefa; }
[data-frame="environment"]        { --frame-color:#228b22; }
[data-frame="sports"]             { --frame-color:#008000; }
[data-frame="entertainment"]      { --frame-color:#ffa500; }
[data-frame="lifestyle"]          { --frame-color:#90ee90; }
[data-frame="travel"]             { --frame-color:#008080; }
[data-frame="opinion"]            { --frame-color:#8a2be2; }
[data-frame="editorial"]          { --frame-color:#4b0082; }
[data-frame="feature_story"]      { --frame-color:#ffdab9; }
[data-frame="photojournalism"]    { --frame-color:#808080; }
[data-frame="classifieds"]        { --frame-color:#f5f5dc; }
[data-frame="comics_puzzles"]     { --frame-color:#9acd32; }
[data-frame="obituaries"]         { --frame-color:#000000; }
[data-frame="weather"]            { --frame-color:#d3d3d3; }
[data-frame="society"]            { --frame-color:#e32636; }
[data-frame="infotainment"]       { --frame-color:#ffff33; }
[data-frame="soft_news"]          { --frame-color:#ffefd5; }
[data-frame="hard_news"]          { --frame-color:#8b0000; }
[data-frame="investigative"]      { --frame-color:#00008b; }
[data-frame="social"]             { --frame-color:#e32636; }
[data-frame="crypto"]             { --frame-color:#800080; }
[data-frame="meme"]               { --frame-color: linear-gradient(90deg,#ff00ff,#ffff00,#00ffff); }
[data-frame="people"]             { --frame-color:#d3d3d3; }

/* Metallic/Guild & Zetsu accents if needed */
[data-frame="government"] .frameType-inner {
  border: 6px solid transparent;
  border-image: linear-gradient(90deg,#dcdcdc,#a9a9a9,#808080,#a9a9a9,#dcdcdc) 1;
}
[data-frame="zetsu"] .frameType-inner,
[data-frame="zetsu"] .card-header,
[data-frame="zetsu"] .type-banner,
[data-frame="zetsu"] .effect-box,
[data-frame="zetsu"] .meta-block,
[data-frame="zetsu"] .meta-bottom {
  border-color: transparent;
  border-image: linear-gradient(135deg,#e63946,#6f42c1,#00e6e6) 1;
}
